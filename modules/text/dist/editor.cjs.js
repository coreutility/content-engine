"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("./hydrator.cjs.js"),h=require("./renderer.cjs.js"),f=async()=>({f:{name:r=>`${r.name}${r.id}`}}),p=()=>({set:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const a=Math.random()*16|0;return(r=="x"?a:a&3|8).toString(16)})}),x=async r=>{const a=await f();return{set:async(c,o)=>{const s={r:""},d=c.data.curr||{id:p().set(),type:"text",data:{data:""}},u=await h.index({f:{...r.f,name:t=>a.f.name({id:d.id,name:t})}}),l=await y.index({f:{...r.f,name:t=>a.f.name({id:d.id,name:t})}}),i=await u.set({data:{curr:d}});return setTimeout(async()=>{const t=await l.set({data:{curr:d}},{add:e=>{let n=e.el;n?.setAttribute("contenteditable","true"),n?.classList.add("block-content"),n?.addEventListener("click",()=>{}),n?.addEventListener("input",function(_){const m=n.innerHTML;e.$d.data=m,t.evt.change()})},change:e=>{o?.change(e)}});(e=>{const n=document.createElement("style");n.innerHTML=`${t.style}`,e.appendChild(n)})(document.head)},200),s.r=i.r,(t=>{const e=document.createElement("style");e.innerHTML=`${i.style}`,t.appendChild(e)})(document.head),s}}};exports.editor=x;exports.index=x;
