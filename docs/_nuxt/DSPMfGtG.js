import{e as x,s as z,f as b,g as k,h as T,i as C,c as v,p as O,j as g,k as h,r as m,u as I,b as E,w as L,o as A,a as p}from"./CJBSzUhR.js";const M=Symbol.for("nuxt:client-only"),N=x({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e,attrs:n}){const c=z(!1);b(()=>{c.value=!0});const a=k();return a&&(a._nuxtClientOnly=!0),O(M,!0),()=>{if(c.value){const i=e.default?.();return i&&i.length===1?[T(i[0],n)]:i}const r=e.fallback||e.placeholder;if(r)return C(r);const o=t.fallback||t.placeholder||"",s=t.fallbackTag||t.placeholderTag||"span";return v(s,n,o)}}}),w=async()=>({f:{name:t=>`${t.name}${t.id}`}}),$=async()=>({set:async t=>{console.log("--theme");try{if(!t.el_id)throw new Error("[el_id] is required");const e=t.name,n=document.getElementById(t.el_id);if(!n)throw new Error("[el_id] is invalid");(c=>{const a=r=>{(o=>{const s=o.getAttribute("data-ce");if(!s)return;const i=JSON.parse(s).filter(l=>l?.k.startsWith("t-"));if(i.length!=0)for(const l of i){const f=l.k,_=l.v.split(" ");if(f==`t-${e}-class`)for(const u of _)o.classList.add(u);else for(const u of _)o.classList.remove(u)}})(r)};for(const r of c.getElementsByTagName("*"))a(r);a(c)})(n)}catch(e){const n=`err: [theme] ${e}`;throw console.log(n),n}}});function P(t,e=1e3){let n={cnt:0};return new Promise(c=>{const a=()=>{console.log(`[setInterval] is running.. [count=${n.cnt}]`);try{t()&&(clearInterval(r),c())}catch{console.log(`warn: [wait_until] ignoring the exception in setInterval and will check again after [interval=${e}]`)}n.cnt+=1},r=setInterval(()=>{a()},e);a()})}console.log("content_engine_lib");let d={lib:{inbuilt_lib:[],l:{},set:async t=>{const e=t?.lib||[];for(const[n,c]of e.entries()){const a=c,r=`${a.name}:${t.run_from}`,o=`${t.run_from}_src`;let s=a[o];const i=`${t.run_from}_src`;let l=t?.lazy_lib?.[i]||null;if(l&&(l=l.replace("{*}",`${a.name}`)),console.log(`_lazy_src: ${l}`),console.log(`_src: ${s}`),d.lib.l.hasOwnProperty(`${r}`)==!1){if(/^[a-zA-Z0-9]/.test(s)&&s.includes("/")==!1&&d.lib.inbuilt_lib.indexOf(`${a.name}`)===-1)if(l)s=l;else throw`[lib-name=${a.name},lib-src=${s}] not allowed or available in in-build mode. Need to use lazy-lib config.`;if(s.startsWith("./")||s.startsWith("../")){const f=await g(()=>import(`${s}`),[],import.meta.url);d.lib.l[`${r}`]={lib:f,src:s}}if(s.startsWith("http://")||s.startsWith("https://")){const f=await g(()=>import(`${s}`),[],import.meta.url);d.lib.l[`${r}`]={lib:f,src:s}}}}console.log(await d.lib.get_all({}))},get:async t=>{let e=null;const n=`${t.name}:${t.run_from}`;return d.lib.l.hasOwnProperty(`${n}`)==!1&&await d.lib.set({lib:[{renderer_src:t.name,hydrator_src:t.name,editor_src:t.name,name:t.name}],run_from:t.run_from,lazy_lib:t.lazy_lib}),e=d.lib.l[`${n}`],e},get_all:async t=>d.lib.l},path:{set:t=>{let e="",n="";const c=t.src.split("/");if(t.src.indexOf("://localhost")!==-1||t.src.indexOf("://127.0.0.1")!==-1||(n="/dist"),c.indexOf(t.type)!==-1)for(const[a,r]of c.entries()){let o=a==0?"":"/";if(e+=`${o}${r}`,r==t.type)return`${e}${n}${t.name}`}else for(const[a,r]of c.entries()){let o=a==0?"":"/";if(e+=`${o}${r}`,r=="src")return`${e}${n}${t.name}`}return`${e}${n}${t.name}`}}};const S=async t=>{const e=await w();return await d.lib.set({lib:t.lib,run_from:"renderer",lazy_lib:t.lazy_lib}),{set:async(n,c)=>{console.log("--renderer [set]");let a={r:"",style:"",head:""};return await(async()=>{for(const r of n.data?.value?.l||n.data.l){const o=await await d.lib.get({name:r.type,run_from:"renderer",lazy_lib:t.lazy_lib}),s=await(await o.lib.index({f:{name:i=>e.f.name({id:r.id,name:i}),get_lib:async i=>await await d.lib.get({name:i.name,run_from:i.run_from,lazy_lib:t.lazy_lib}),set_theme:async i=>await(await $()).set(i),path:i=>d.path.set({src:o.src,type:r.type,name:i})}})).set({data:{curr:r}},c);a.r+=s?.r||"",a.style+=s?.style||"",a.head+=s?.head||""}})(),a}}},B=async t=>{const e=await w();return await d.lib.set({lib:t.lib,run_from:"hydrator",lazy_lib:t.lazy_lib}),{set:async(n,c)=>{console.log("--hydrator [set]");let a={r:"",style:""};const r=async()=>{for(const o of n.data?.value?.l||n.data.l){const s=await await d.lib.get({name:o.type,run_from:"hydrator",lazy_lib:t.lazy_lib}),i=await(await s.lib.index({f:{name:l=>e.f.name({id:o.id,name:l}),get_lib:async l=>await await d.lib.get({name:l.name,run_from:l.run_from,lazy_lib:t.lazy_lib}),set_theme:async l=>await(await $()).set(l),path:l=>d.path.set({src:s.src,type:o.type,name:l})}})).set({data:{curr:o}},c);a.style+=i.style}};return await P(()=>document.readyState==="complete"||typeof window<"u",50),await r(),a}}},D={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 text-gray-900 dark:text-gray-100 transition-colors duration-300"},H=["innerHTML"],R={__name:"index",async setup(t){let e,n;const c=([e,n]=h(()=>fetch("https://raw.githubusercontent.com/coreutility/content-engine/refs/heads/main/docs.json")),e=await e,n(),e),a=([e,n]=h(()=>c.json()),e=await e,n(),e);b(()=>{const u=document.createElement("div");u.innerHTML=i.value;for(const y of u.querySelectorAll("*"))y.tagName.includes("title")||y.getAttribute("name")=="description"||document.head.appendChild(y)});const r=m(""),o=m(""),s=m("");m(""),m("");const i=m("");m({l:[{id:"3e1bc78c-104f-4f6f-aa87-ee295db8ad7c",type:"explorer",data:{data:"",theme:"light",foo:{txt:""},title:"Content-engine Docs",files:[{id:"file-0",name:"welcome",type:"file",path:"/welcome",content:{config:{lazy_lib:{renderer_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/renderer.es.js",hydrator_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/hydrator.es.js",editor_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/editor.es.js"}},data:{l:[{id:"3e1bc78c-104f-4f6f-aa87-ef295db8aj9s",type:"text",data:{data:`
                                          <b>Welcome!</b>
<p>Content-Engine lets you build interfaces from pure data.
These docs will guide you through setup, custom modules, and everything else you need to integrate it into your app.</p>
                                          `,theme:"light",foo:""}}]}}},{id:"folder-22",name:"Module Development",type:"folder",path:"/src",children:[]},{id:"folder-1",name:"Implementation",type:"folder",path:"/src",children:[{id:"folder-2",name:"vanilla-ts",type:"folder",path:"/src/components",children:[{id:"file-3",name:"Installation",type:"file",path:"/src/components/Button.tsx",content:{config:{lazy_lib:{renderer_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/renderer.es.js",hydrator_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/hydrator.es.js",editor_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/editor.es.js"}},data:{l:[{id:"3e1bc78c-104f-4f6f-aa87-ef295db8aj9s",type:"text",data:{data:`

                                          <div class="h-5"></div>

                                          <b>Install the package via NPM </b>

                                          <div class="h-5"></div>

                                          <p>$ npm i content-engine-lib</p>

                                          <div class="h-8"></div>


                                          <b>Install the package via Github </b>


                                          <div class="h-5"></div>

                                          <p>$ npm install github:coreutility/content-engine-lib#main</p>
                                          
                                          `,theme:"light",foo:""}}]}}},{id:"file-765897",name:"Usage",type:"file",path:"/src/components/Button.tsx",content:{config:{lazy_lib:{renderer_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/renderer.es.js",hydrator_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/hydrator.es.js",editor_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/editor.es.js"}},data:{l:[{id:"3e1bc78c-104f-4f6f-aa87-ef295db8aj9s",type:"text",data:{data:`

                                          <div class="h-5"></div>

                                          <b>Coming soon </b>
 
                                          
                                          `,theme:"light",foo:""}}]}}}]}]}],expandedFolders:["folder-1"],activeFile:"file-0"}}]});const l=m(a),f=([e,n]=h(()=>S({lib:[],lazy_lib:{renderer_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/renderer.es.js",hydrator_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/hydrator.es.js",editor_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/editor.es.js"}})),e=await e,n(),e),_=([e,n]=h(()=>B({lib:[],lazy_lib:{renderer_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/renderer.es.js",hydrator_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/hydrator.es.js",editor_src:"https://cdn.jsdelivr.net/gh/coreutility/content-engine/modules/{*}/dist/editor.es.js"}})),e=await e,n(),e);{const u=([e,n]=h(()=>f.set({data:l})),e=await e,n(),e);r.value=u.r,o.value=u.style,i.value=u.head}{const u=([e,n]=h(()=>_.set({data:l})),e=await e,n(),e);s.value=u.style}return I({title:"Content-engine Docs",meta:[{name:"description",content:"Content-engine Docs"}],style:[{innerHTML:o},{innerHTML:s}]}),(u,y)=>{const j=N;return A(),v("div",D,[E(j,null,{default:L(()=>[p("main",null,[p("div",{innerHTML:r.value},null,8,H)])]),_:1})])}}};export{R as default};
